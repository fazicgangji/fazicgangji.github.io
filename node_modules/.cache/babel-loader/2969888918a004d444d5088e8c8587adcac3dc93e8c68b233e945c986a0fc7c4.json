{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aslam\\\\Files\\\\React Project\\\\tuo\\\\src\\\\carousel.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  wrapper: {\n    width: '100%',\n    height: '100%',\n    position: 'relative'\n  },\n  frame: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute'\n  }\n};\nclass Carousel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      frames: [].concat(props.frames || props.children || []),\n      current: 0\n    };\n    this.mounted = false;\n    this.debounceTimeoutId = null;\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onResize = this.onResize.bind(this);\n    this.autoSlide = this.autoSlide.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    if (props.loop === false && props.auto) {\n      console.warn('[re-carousel] Auto-slide only works in loop mode.');\n    }\n  }\n  componentDidMount() {\n    this.mounted = true;\n    this.prepareAutoSlide();\n    this.hideFrames();\n    this.refs.wrapper.addEventListener('touchmove', this.onTouchMove, {\n      capture: true\n    });\n    this.refs.wrapper.addEventListener('touchend', this.onTouchEnd, {\n      capture: true\n    });\n    window.addEventListener('resize', this.onResize);\n  }\n  componentWillUnmount() {\n    this.mounted = false;\n    this.clearAutoTimeout();\n    clearTimeout(this.debounceTimeoutId);\n    this.refs.wrapper.removeEventListener('touchmove', this.onTouchMove, {\n      capture: true\n    });\n    this.refs.wrapper.removeEventListener('touchend', this.onTouchEnd, {\n      capture: true\n    });\n    window.removeEventListener('resize', this.onResize);\n  }\n  componentDidUpdate(_, prevState) {\n    if (this.state.frames.length && this.state.frames.length !== prevState.frames.length) {\n      // reset to default state\n      this.hideFrames();\n      this.prepareAutoSlide();\n    }\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const frames = [].concat(nextProps.frames || nextProps.children || []);\n    const nextState = {\n      frames\n    };\n    if (frames.length && frames.length !== prevState.frames.length) {\n      nextState.current = 0;\n    }\n    return nextState;\n  }\n  hideFrames() {\n    for (let i = 1; i < this.state.frames.length; i++) {\n      this.refs['f' + i].style.opacity = 0;\n    }\n  }\n  onResize() {\n    clearTimeout(this.debounceTimeoutId);\n    this.debounceTimeoutId = setTimeout(() => {\n      this.updateFrameSize(() => {\n        this.prepareSiblingFrames();\n      });\n    }, 25);\n  }\n  onTouchStart(e) {\n    if (this.state.total < 2) return;\n    // e.preventDefault()\n\n    this.clearAutoTimeout();\n    this.updateFrameSize();\n    this.prepareSiblingFrames();\n    const {\n      pageX,\n      pageY\n    } = e.touches && e.touches[0] || e;\n    this.setState({\n      startX: pageX,\n      startY: pageY,\n      deltaX: 0,\n      deltaY: 0\n    });\n    this.refs.wrapper.addEventListener('mousemove', this.onTouchMove, {\n      capture: true\n    });\n    this.refs.wrapper.addEventListener('mouseup', this.onTouchEnd, {\n      capture: true\n    });\n    this.refs.wrapper.addEventListener('mouseleave', this.onTouchEnd, {\n      capture: true\n    });\n  }\n  onTouchMove(e) {\n    if (e.touches && e.touches.length > 1) return;\n    this.clearAutoTimeout();\n    const {\n      pageX,\n      pageY\n    } = e.touches && e.touches[0] || e;\n    let deltaX = pageX - this.state.startX;\n    let deltaY = pageY - this.state.startY;\n    this.setState({\n      deltaX: deltaX,\n      deltaY: deltaY\n    });\n    if (this.props.axis === 'x' && Math.abs(deltaX) > Math.abs(deltaY)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    if (this.props.axis === 'y' && Math.abs(deltaY) > Math.abs(deltaX)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    // when reach frames edge in non-loop mode, reduce drag effect.\n    if (!this.props.loop) {\n      if (this.state.current === this.state.frames.length - 1) {\n        deltaX < 0 && (deltaX /= 3);\n        deltaY < 0 && (deltaY /= 3);\n      }\n      if (this.state.current === 0) {\n        deltaX > 0 && (deltaX /= 3);\n        deltaY > 0 && (deltaY /= 3);\n      }\n    }\n    this.moveFramesBy(deltaX, deltaY);\n  }\n  onTouchEnd() {\n    const direction = this.decideEndPosition();\n    direction && this.transitFramesTowards(direction);\n\n    // cleanup\n    this.refs.wrapper.removeEventListener('mousemove', this.onTouchMove, {\n      capture: true\n    });\n    this.refs.wrapper.removeEventListener('mouseup', this.onTouchEnd, {\n      capture: true\n    });\n    this.refs.wrapper.removeEventListener('mouseleave', this.onTouchEnd, {\n      capture: true\n    });\n    setTimeout(() => this.prepareAutoSlide(), this.props.duration);\n  }\n  decideEndPosition() {\n    const {\n      deltaX = 0,\n      deltaY = 0,\n      current,\n      frames\n    } = this.state;\n    const {\n      axis,\n      loop,\n      minMove\n    } = this.props;\n    switch (axis) {\n      case 'x':\n        if (loop === false) {\n          if (current === 0 && deltaX > 0) return 'origin';\n          if (current === frames.length - 1 && deltaX < 0) return 'origin';\n        }\n        if (Math.abs(deltaX) < minMove) return 'origin';\n        return deltaX > 0 ? 'right' : 'left';\n      case 'y':\n        if (loop === false) {\n          if (current === 0 && deltaY > 0) return 'origin';\n          if (current === frames.length - 1 && deltaY < 0) return 'origin';\n        }\n        if (Math.abs(deltaY) < minMove) return 'origin';\n        return deltaY > 0 ? 'down' : 'up';\n      default:\n    }\n  }\n  moveFramesBy(deltaX, deltaY) {\n    const {\n      prev,\n      current,\n      next\n    } = this.state.movingFrames;\n    const {\n      frameWidth,\n      frameHeight\n    } = this.state;\n    switch (this.props.axis) {\n      case 'x':\n        translateXY(current, deltaX, 0);\n        if (deltaX < 0) {\n          translateXY(next, deltaX + frameWidth, 0);\n        } else {\n          translateXY(prev, deltaX - frameWidth, 0);\n        }\n        break;\n      case 'y':\n        translateXY(current, 0, deltaY);\n        if (deltaY < 0) {\n          translateXY(next, 0, deltaY + frameHeight);\n        } else {\n          translateXY(prev, 0, deltaY - frameHeight);\n        }\n        break;\n      default:\n    }\n  }\n  prepareAutoSlide() {\n    if (this.state.frames.length < 2) return;\n    this.clearAutoTimeout();\n    this.updateFrameSize(() => {\n      this.prepareSiblingFrames();\n    });\n\n    // auto slide only avalible in loop mode\n    if (this.mounted && this.props.loop && this.props.auto) {\n      const slideTimeoutID = setTimeout(this.autoSlide, this.props.interval);\n      this.setState({\n        slider: slideTimeoutID\n      });\n    }\n  }\n\n  // auto slide to 'next' or 'prev'\n  autoSlide(rel) {\n    this.clearAutoTimeout();\n    switch (rel) {\n      case 'prev':\n        this.transitFramesTowards(this.props.axis === 'x' ? 'right' : 'down');\n        break;\n      case 'next':\n      default:\n        this.transitFramesTowards(this.props.axis === 'x' ? 'left' : 'up');\n    }\n\n    // prepare next move after animation\n    setTimeout(() => this.prepareAutoSlide(), this.props.duration);\n  }\n  next() {\n    const {\n      current,\n      frames\n    } = this.state;\n    if (!this.props.loop && current === frames.length - 1) return false;\n    this.autoSlide('next');\n  }\n  prev() {\n    if (!this.props.loop && this.state.current === 0) return false;\n    const {\n      prev,\n      next\n    } = this.state.movingFrames;\n    if (prev === next) {\n      // Reprepare start position of prev frame\n      // (it was positioned as \"next\" frame)\n      if (this.props.axis === 'x') {\n        translateXY(prev, -this.state.frameWidth, 0, 0);\n      } else {\n        translateXY(prev, 0, -this.state.frameHeight, 0);\n      }\n      prev.getClientRects(); // trigger layout\n    }\n\n    this.autoSlide('prev');\n  }\n  clearAutoTimeout() {\n    clearTimeout(this.state.slider);\n  }\n  updateFrameSize(cb) {\n    const {\n      width,\n      height\n    } = window.getComputedStyle(this.refs.wrapper);\n    this.setState({\n      frameWidth: parseFloat(width.split('px')[0]),\n      frameHeight: parseFloat(height.split('px')[0])\n    }, cb);\n  }\n  getSiblingFrames() {\n    return {\n      current: this.refs['f' + this.getFrameId()],\n      prev: this.refs['f' + this.getFrameId('prev')],\n      next: this.refs['f' + this.getFrameId('next')]\n    };\n  }\n  prepareSiblingFrames() {\n    const siblings = this.getSiblingFrames();\n    if (!this.props.loop) {\n      this.state.current === 0 && (siblings.prev = undefined);\n      this.state.current === this.state.frames.length - 1 && (siblings.next = undefined);\n    }\n    this.setState({\n      movingFrames: siblings\n    });\n\n    // prepare frames position\n    translateXY(siblings.current, 0, 0);\n    if (this.props.axis === 'x') {\n      translateXY(siblings.prev, -this.state.frameWidth, 0);\n      translateXY(siblings.next, this.state.frameWidth, 0);\n    } else {\n      translateXY(siblings.prev, 0, -this.state.frameHeight);\n      translateXY(siblings.next, 0, this.state.frameHeight);\n    }\n    return siblings;\n  }\n  getFrameId(pos) {\n    const {\n      frames,\n      current\n    } = this.state;\n    const total = frames.length;\n    switch (pos) {\n      case 'prev':\n        return (current - 1 + total) % total;\n      case 'next':\n        return (current + 1) % total;\n      default:\n        return current;\n    }\n  }\n  transitFramesTowards(direction) {\n    const {\n      prev,\n      current,\n      next\n    } = this.state.movingFrames;\n    const {\n      duration,\n      axis,\n      onTransitionEnd\n    } = this.props;\n    let newCurrentId = this.state.current;\n    switch (direction) {\n      case 'up':\n        translateXY(current, 0, -this.state.frameHeight, duration);\n        translateXY(next, 0, 0, duration);\n        newCurrentId = this.getFrameId('next');\n        break;\n      case 'down':\n        translateXY(current, 0, this.state.frameHeight, duration);\n        translateXY(prev, 0, 0, duration);\n        newCurrentId = this.getFrameId('prev');\n        break;\n      case 'left':\n        translateXY(current, -this.state.frameWidth, 0, duration);\n        translateXY(next, 0, 0, duration);\n        newCurrentId = this.getFrameId('next');\n        break;\n      case 'right':\n        translateXY(current, this.state.frameWidth, 0, duration);\n        translateXY(prev, 0, 0, duration);\n        newCurrentId = this.getFrameId('prev');\n        break;\n      default:\n        // back to origin\n        translateXY(current, 0, 0, duration);\n        if (axis === 'x') {\n          translateXY(prev, -this.state.frameWidth, 0, duration);\n          translateXY(next, this.state.frameWidth, 0, duration);\n        } else if (axis === 'y') {\n          translateXY(prev, 0, -this.state.frameHeight, duration);\n          translateXY(next, 0, this.state.frameHeight, duration);\n        }\n    }\n    onTransitionEnd && setTimeout(() => onTransitionEnd(this.getSiblingFrames()), duration);\n    this.setState({\n      current: newCurrentId\n    });\n  }\n\n  // debugFrames () {\n  //   console.log('>>> DEBUG-FRAMES: current', this.state.current)\n  //   const len = this.state.frames.length\n  //   for (let i = 0; i < len; ++i) {\n  //     const ref = this.refs['f' + i]\n  //     console.info(ref.innerText.trim(), ref.style.transform)\n  //   }\n  // }\n\n  render() {\n    const {\n      frames,\n      current\n    } = this.state;\n    const {\n      widgets,\n      axis,\n      loop,\n      auto,\n      interval\n    } = this.props;\n    const wrapperStyle = objectAssign(styles.wrapper, this.props.style);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: wrapperStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: \"wrapper\",\n        style: objectAssign({\n          overflow: 'hidden'\n        }, wrapperStyle),\n        onTouchStart: this.onTouchStart,\n        className: this.props.className,\n        onMouseDown: this.onTouchStart,\n        children: [frames.map((frame, i) => {\n          const frameStyle = objectAssign({\n            zIndex: 99 - i\n          }, styles.frame);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: 'f' + i,\n            style: frameStyle,\n            children: frame\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 22\n          }, this);\n        }), this.props.frames && this.props.children]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), widgets && [].concat(widgets).map((Widget, i) => /*#__PURE__*/_jsxDEV(Widget, {\n        index: current,\n        total: frames.length,\n        prevHandler: this.prev,\n        nextHandler: this.next,\n        axis: axis,\n        loop: loop,\n        auto: auto,\n        interval: interval\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this);\n  }\n}\nCarousel.propTypes = {\n  axis: PropTypes.oneOf(['x', 'y']),\n  auto: PropTypes.bool,\n  loop: PropTypes.bool,\n  interval: PropTypes.number,\n  duration: PropTypes.number,\n  widgets: PropTypes.arrayOf(PropTypes.func),\n  frames: PropTypes.arrayOf(PropTypes.element),\n  style: PropTypes.object,\n  minMove: PropTypes.number,\n  onTransitionEnd: PropTypes.func\n};\nCarousel.defaultProps = {\n  axis: 'x',\n  auto: false,\n  loop: false,\n  interval: 5000,\n  duration: 300,\n  minMove: 42\n};\nfunction translateXY(el, x, y, duration = 0) {\n  if (!el) return;\n  el.style.opacity = '1';\n\n  // animation\n  el.style.transitionDuration = duration + 'ms';\n  el.style.webkitTransitionDuration = duration + 'ms';\n  el.style.transform = `translate(${x}px, ${y}px)`;\n  el.style.webkitTransform = `translate(${x}px, ${y}px) translateZ(0)`;\n}\nfunction objectAssign(target) {\n  var output = Object(target);\n  for (var index = 1; index < arguments.length; index++) {\n    var source = arguments[index];\n    if (source !== undefined && source !== null) {\n      for (var nextKey in source) {\n        if (source.hasOwnProperty(nextKey)) {\n          output[nextKey] = source[nextKey];\n        }\n      }\n    }\n  }\n  return output;\n}\nexport default Carousel;","map":{"version":3,"names":["React","PropTypes","jsxDEV","_jsxDEV","styles","wrapper","width","height","position","frame","Carousel","Component","constructor","props","state","frames","concat","children","current","mounted","debounceTimeoutId","onTouchStart","bind","onTouchMove","onTouchEnd","onResize","autoSlide","prev","next","loop","auto","console","warn","componentDidMount","prepareAutoSlide","hideFrames","refs","addEventListener","capture","window","componentWillUnmount","clearAutoTimeout","clearTimeout","removeEventListener","componentDidUpdate","_","prevState","length","getDerivedStateFromProps","nextProps","nextState","i","style","opacity","setTimeout","updateFrameSize","prepareSiblingFrames","e","total","pageX","pageY","touches","setState","startX","startY","deltaX","deltaY","axis","Math","abs","preventDefault","stopPropagation","moveFramesBy","direction","decideEndPosition","transitFramesTowards","duration","minMove","movingFrames","frameWidth","frameHeight","translateXY","slideTimeoutID","interval","slider","rel","getClientRects","cb","getComputedStyle","parseFloat","split","getSiblingFrames","getFrameId","siblings","undefined","pos","onTransitionEnd","newCurrentId","render","widgets","wrapperStyle","objectAssign","ref","overflow","className","onMouseDown","map","frameStyle","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","Widget","index","prevHandler","nextHandler","propTypes","oneOf","bool","number","arrayOf","func","element","object","defaultProps","el","x","y","transitionDuration","webkitTransitionDuration","transform","webkitTransform","target","output","Object","arguments","source","nextKey","hasOwnProperty"],"sources":["C:/Users/aslam/Files/React Project/tuo/src/carousel.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst styles = {\r\n  wrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'relative'\r\n  },\r\n  frame: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute'\r\n  }\r\n}\r\n\r\nclass Carousel extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      frames: [].concat(props.frames || props.children || []),\r\n      current: 0\r\n    }\r\n\r\n    this.mounted = false\r\n    this.debounceTimeoutId = null\r\n    this.onTouchStart = this.onTouchStart.bind(this)\r\n    this.onTouchMove = this.onTouchMove.bind(this)\r\n    this.onTouchEnd = this.onTouchEnd.bind(this)\r\n    this.onResize = this.onResize.bind(this)\r\n    this.autoSlide = this.autoSlide.bind(this)\r\n    this.prev = this.prev.bind(this)\r\n    this.next = this.next.bind(this)\r\n\r\n    if (props.loop === false && props.auto) {\r\n      console.warn('[re-carousel] Auto-slide only works in loop mode.')\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.mounted = true\r\n    this.prepareAutoSlide()\r\n    this.hideFrames()\r\n\r\n    this.refs.wrapper.addEventListener('touchmove', this.onTouchMove, {capture: true})\r\n    this.refs.wrapper.addEventListener('touchend', this.onTouchEnd, {capture: true})\r\n    window.addEventListener('resize', this.onResize);\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this.mounted = false\r\n    this.clearAutoTimeout()\r\n    clearTimeout(this.debounceTimeoutId)\r\n\r\n    this.refs.wrapper.removeEventListener('touchmove', this.onTouchMove, {capture: true})\r\n    this.refs.wrapper.removeEventListener('touchend', this.onTouchEnd, {capture: true})\r\n    window.removeEventListener('resize', this.onResize);\r\n  }\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    if (this.state.frames.length && this.state.frames.length !== prevState.frames.length) {\r\n      // reset to default state\r\n      this.hideFrames()\r\n      this.prepareAutoSlide()\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const frames = [].concat(nextProps.frames || nextProps.children || [])\r\n    const nextState = { frames }\r\n    if (frames.length && frames.length !== prevState.frames.length) {\r\n      nextState.current = 0\r\n    }\r\n    return nextState\r\n  }\r\n\r\n  hideFrames () {\r\n    for (let i = 1; i < this.state.frames.length; i++) {\r\n      this.refs['f' + i].style.opacity = 0\r\n    }\r\n  }\r\n\r\n  onResize() {\r\n    clearTimeout(this.debounceTimeoutId);\r\n    this.debounceTimeoutId = setTimeout(() => {\r\n      this.updateFrameSize(() => {\r\n        this.prepareSiblingFrames();\r\n      });\r\n    }, 25);\r\n  }\r\n\r\n  onTouchStart (e) {\r\n    if (this.state.total < 2) return\r\n    // e.preventDefault()\r\n\r\n    this.clearAutoTimeout()\r\n    this.updateFrameSize()\r\n    this.prepareSiblingFrames()\r\n\r\n    const { pageX, pageY } = (e.touches && e.touches[0]) || e\r\n    this.setState({\r\n      startX: pageX,\r\n      startY: pageY,\r\n      deltaX: 0,\r\n      deltaY: 0\r\n    })\r\n\r\n    this.refs.wrapper.addEventListener('mousemove', this.onTouchMove, {capture: true})\r\n    this.refs.wrapper.addEventListener('mouseup', this.onTouchEnd, {capture: true})\r\n    this.refs.wrapper.addEventListener('mouseleave', this.onTouchEnd, {capture: true})\r\n  }\r\n\r\n  onTouchMove (e) {\r\n    if (e.touches && e.touches.length > 1) return\r\n    this.clearAutoTimeout()\r\n\r\n    const { pageX, pageY } = (e.touches && e.touches[0]) || e\r\n    let deltaX = pageX - this.state.startX\r\n    let deltaY = pageY - this.state.startY\r\n    this.setState({\r\n      deltaX: deltaX,\r\n      deltaY: deltaY\r\n    })\r\n\r\n    if (this.props.axis === 'x' && Math.abs(deltaX) > Math.abs(deltaY)) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    }\r\n    if (this.props.axis === 'y' && Math.abs(deltaY) > Math.abs(deltaX)) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    }\r\n\r\n    // when reach frames edge in non-loop mode, reduce drag effect.\r\n    if (!this.props.loop) {\r\n      if (this.state.current === this.state.frames.length - 1) {\r\n        deltaX < 0 && (deltaX /= 3)\r\n        deltaY < 0 && (deltaY /= 3)\r\n      }\r\n      if (this.state.current === 0) {\r\n        deltaX > 0 && (deltaX /= 3)\r\n        deltaY > 0 && (deltaY /= 3)\r\n      }\r\n    }\r\n\r\n    this.moveFramesBy(deltaX, deltaY)\r\n  }\r\n\r\n  onTouchEnd () {\r\n    const direction = this.decideEndPosition()\r\n    direction && this.transitFramesTowards(direction)\r\n\r\n    // cleanup\r\n    this.refs.wrapper.removeEventListener('mousemove', this.onTouchMove, {capture: true})\r\n    this.refs.wrapper.removeEventListener('mouseup', this.onTouchEnd, {capture: true})\r\n    this.refs.wrapper.removeEventListener('mouseleave', this.onTouchEnd, {capture: true})\r\n\r\n    setTimeout(() => this.prepareAutoSlide(), this.props.duration)\r\n  }\r\n\r\n  decideEndPosition () {\r\n    const { deltaX = 0, deltaY = 0, current, frames } = this.state\r\n    const { axis, loop, minMove } = this.props\r\n\r\n    switch (axis) {\r\n      case 'x':\r\n        if (loop === false) {\r\n          if (current === 0 && deltaX > 0) return 'origin'\r\n          if (current === frames.length - 1 && deltaX < 0) return 'origin'\r\n        }\r\n        if (Math.abs(deltaX) < minMove) return 'origin'\r\n        return deltaX > 0 ? 'right' : 'left'\r\n      case 'y':\r\n        if (loop === false) {\r\n          if (current === 0 && deltaY > 0) return 'origin'\r\n          if (current === frames.length - 1 && deltaY < 0) return 'origin'\r\n        }\r\n        if (Math.abs(deltaY) < minMove) return 'origin'\r\n        return deltaY > 0 ? 'down' : 'up'\r\n      default:\r\n    }\r\n  }\r\n\r\n  moveFramesBy (deltaX, deltaY) {\r\n    const { prev, current, next } = this.state.movingFrames\r\n    const { frameWidth, frameHeight } = this.state\r\n\r\n    switch (this.props.axis) {\r\n      case 'x':\r\n        translateXY(current, deltaX, 0)\r\n        if (deltaX < 0) {\r\n          translateXY(next, deltaX + frameWidth, 0)\r\n        } else {\r\n          translateXY(prev, deltaX - frameWidth, 0)\r\n        }\r\n        break\r\n      case 'y':\r\n        translateXY(current, 0, deltaY)\r\n        if (deltaY < 0) {\r\n          translateXY(next, 0, deltaY + frameHeight)\r\n        } else {\r\n          translateXY(prev, 0, deltaY - frameHeight)\r\n        }\r\n        break\r\n      default:\r\n    }\r\n  }\r\n\r\n  prepareAutoSlide () {\r\n    if (this.state.frames.length < 2) return\r\n\r\n    this.clearAutoTimeout()\r\n    this.updateFrameSize(() => {\r\n      this.prepareSiblingFrames()\r\n    })\r\n\r\n    // auto slide only avalible in loop mode\r\n    if (this.mounted && this.props.loop && this.props.auto) {\r\n      const slideTimeoutID = setTimeout(this.autoSlide, this.props.interval)\r\n      this.setState({ slider: slideTimeoutID })\r\n    }\r\n  }\r\n\r\n  // auto slide to 'next' or 'prev'\r\n  autoSlide (rel) {\r\n    this.clearAutoTimeout()\r\n\r\n    switch (rel) {\r\n      case 'prev':\r\n        this.transitFramesTowards(this.props.axis === 'x' ? 'right' : 'down')\r\n        break\r\n      case 'next':\r\n      default:\r\n        this.transitFramesTowards(this.props.axis === 'x' ? 'left' : 'up')\r\n    }\r\n\r\n    // prepare next move after animation\r\n    setTimeout(() => this.prepareAutoSlide(), this.props.duration)\r\n  }\r\n\r\n  next () {\r\n    const { current, frames } = this.state\r\n    if (!this.props.loop && current === frames.length - 1) return false\r\n    this.autoSlide('next')\r\n  }\r\n\r\n  prev () {\r\n    if (!this.props.loop && this.state.current === 0) return false\r\n    const { prev, next } = this.state.movingFrames\r\n\r\n    if (prev === next) {\r\n      // Reprepare start position of prev frame\r\n      // (it was positioned as \"next\" frame)\r\n      if (this.props.axis === 'x') {\r\n        translateXY(prev, -this.state.frameWidth, 0, 0)\r\n      } else {\r\n        translateXY(prev, 0, -this.state.frameHeight, 0)\r\n      }\r\n      prev.getClientRects() // trigger layout\r\n    }\r\n\r\n    this.autoSlide('prev')\r\n  }\r\n\r\n  clearAutoTimeout () {\r\n    clearTimeout(this.state.slider)\r\n  }\r\n\r\n  updateFrameSize (cb) {\r\n    const { width, height } = window.getComputedStyle(this.refs.wrapper)\r\n    this.setState({\r\n      frameWidth: parseFloat(width.split('px')[0]),\r\n      frameHeight: parseFloat(height.split('px')[0])\r\n    }, cb)\r\n  }\r\n\r\n  getSiblingFrames () {\r\n    return {\r\n      current: this.refs['f' + this.getFrameId()],\r\n      prev: this.refs['f' + this.getFrameId('prev')],\r\n      next: this.refs['f' + this.getFrameId('next')]\r\n    }\r\n  }\r\n\r\n  prepareSiblingFrames () {\r\n    const siblings = this.getSiblingFrames()\r\n\r\n    if (!this.props.loop) {\r\n      this.state.current === 0 && (siblings.prev = undefined)\r\n      this.state.current === this.state.frames.length - 1 && (siblings.next = undefined)\r\n    }\r\n\r\n    this.setState({ movingFrames: siblings })\r\n\r\n    // prepare frames position\r\n    translateXY(siblings.current, 0, 0)\r\n    if (this.props.axis === 'x') {\r\n      translateXY(siblings.prev, -this.state.frameWidth, 0)\r\n      translateXY(siblings.next, this.state.frameWidth, 0)\r\n    } else {\r\n      translateXY(siblings.prev, 0, -this.state.frameHeight)\r\n      translateXY(siblings.next, 0, this.state.frameHeight)\r\n    }\r\n\r\n    return siblings\r\n  }\r\n\r\n  getFrameId (pos) {\r\n    const { frames, current } = this.state\r\n    const total = frames.length\r\n    switch (pos) {\r\n      case 'prev':\r\n        return (current - 1 + total) % total\r\n      case 'next':\r\n        return (current + 1) % total\r\n      default:\r\n        return current\r\n    }\r\n  }\r\n\r\n  transitFramesTowards (direction) {\r\n    const { prev, current, next } = this.state.movingFrames\r\n    const { duration, axis, onTransitionEnd } = this.props\r\n\r\n    let newCurrentId = this.state.current\r\n    switch (direction) {\r\n      case 'up':\r\n        translateXY(current, 0, -this.state.frameHeight, duration)\r\n        translateXY(next, 0, 0, duration)\r\n        newCurrentId = this.getFrameId('next')\r\n        break\r\n      case 'down':\r\n        translateXY(current, 0, this.state.frameHeight, duration)\r\n        translateXY(prev, 0, 0, duration)\r\n        newCurrentId = this.getFrameId('prev')\r\n        break\r\n      case 'left':\r\n        translateXY(current, -this.state.frameWidth, 0, duration)\r\n        translateXY(next, 0, 0, duration)\r\n        newCurrentId = this.getFrameId('next')\r\n        break\r\n      case 'right':\r\n        translateXY(current, this.state.frameWidth, 0, duration)\r\n        translateXY(prev, 0, 0, duration)\r\n        newCurrentId = this.getFrameId('prev')\r\n        break\r\n      default: // back to origin\r\n        translateXY(current, 0, 0, duration)\r\n        if (axis === 'x') {\r\n          translateXY(prev, -this.state.frameWidth, 0, duration)\r\n          translateXY(next, this.state.frameWidth, 0, duration)\r\n        } else if (axis === 'y') {\r\n          translateXY(prev, 0, -this.state.frameHeight, duration)\r\n          translateXY(next, 0, this.state.frameHeight, duration)\r\n        }\r\n    }\r\n\r\n    onTransitionEnd && setTimeout(() => onTransitionEnd(this.getSiblingFrames()), duration)\r\n\r\n    this.setState({ current: newCurrentId })\r\n  }\r\n\r\n  // debugFrames () {\r\n  //   console.log('>>> DEBUG-FRAMES: current', this.state.current)\r\n  //   const len = this.state.frames.length\r\n  //   for (let i = 0; i < len; ++i) {\r\n  //     const ref = this.refs['f' + i]\r\n  //     console.info(ref.innerText.trim(), ref.style.transform)\r\n  //   }\r\n  // }\r\n\r\n  render () {\r\n    const { frames, current } = this.state\r\n    const { widgets, axis, loop, auto, interval } = this.props\r\n    const wrapperStyle = objectAssign(styles.wrapper, this.props.style)\r\n\r\n    return (\r\n      <div style={wrapperStyle}>\r\n        <div\r\n          ref='wrapper'\r\n          style={objectAssign({overflow: 'hidden'}, wrapperStyle)}\r\n          onTouchStart={this.onTouchStart}\r\n          className={this.props.className}\r\n          onMouseDown={this.onTouchStart} >\r\n          {\r\n            frames.map((frame, i) => {\r\n              const frameStyle = objectAssign({zIndex: 99 - i}, styles.frame)\r\n              return <div ref={'f' + i} key={i} style={frameStyle}>{frame}</div>\r\n            })\r\n          }\r\n          { this.props.frames && this.props.children }\r\n        </div>\r\n        {\r\n          widgets && [].concat(widgets).map((Widget, i) => (\r\n            <Widget\r\n              key={i}\r\n              index={current}\r\n              total={frames.length}\r\n              prevHandler={this.prev}\r\n              nextHandler={this.next}\r\n              axis={axis} loop={loop} auto={auto} interval={interval} />\r\n          ))\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCarousel.propTypes = {\r\n  axis: PropTypes.oneOf(['x', 'y']),\r\n  auto: PropTypes.bool,\r\n  loop: PropTypes.bool,\r\n  interval: PropTypes.number,\r\n  duration: PropTypes.number,\r\n  widgets: PropTypes.arrayOf(PropTypes.func),\r\n  frames: PropTypes.arrayOf(PropTypes.element),\r\n  style: PropTypes.object,\r\n  minMove: PropTypes.number,\r\n  onTransitionEnd: PropTypes.func\r\n}\r\n\r\nCarousel.defaultProps = {\r\n  axis: 'x',\r\n  auto: false,\r\n  loop: false,\r\n  interval: 5000,\r\n  duration: 300,\r\n  minMove: 42\r\n}\r\n\r\nfunction translateXY (el, x, y, duration = 0) {\r\n  if (!el) return\r\n\r\n  el.style.opacity = '1'\r\n\r\n  // animation\r\n  el.style.transitionDuration = duration + 'ms'\r\n  el.style.webkitTransitionDuration = duration + 'ms'\r\n\r\n  el.style.transform = `translate(${x}px, ${y}px)`\r\n  el.style.webkitTransform = `translate(${x}px, ${y}px) translateZ(0)`\r\n}\r\n\r\nfunction objectAssign (target) {\r\n  var output = Object(target)\r\n  for (var index = 1; index < arguments.length; index++) {\r\n    var source = arguments[index]\r\n    if (source !== undefined && source !== null) {\r\n      for (var nextKey in source) {\r\n        if (source.hasOwnProperty(nextKey)) {\r\n          output[nextKey] = source[nextKey]\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return output\r\n}\r\n\r\nexport default Carousel\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}